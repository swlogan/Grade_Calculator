import java.text.DecimalFormat;
import java.util.Scanner; 

public class Grade_Calc {
	//Static fields
		   
		   static double pp=0;//Percent of participation
		   static double pa=0;//Percent of assignments
		   static double pm=0;//Percent of Midterms
		   static double pf=0;//Percent of Final
		   static double part=0;//Participation grade
		   static double assign=0;//Assignment grade
		   static double f=0;//Finals grade
		   static double midsum=0;//Sum of Midterms taken
		   static int total;//Total # of assignments
		   static double sum=0;//Sum of percentages the user chooses to input
		   static String course;//Course taken
		   static Scanner sc=new Scanner(System.in); 
		   
public static void main(String args[]){  
		   boolean x=true;
		   System.out.println("What course are you taking?");  
		   course=sc.next();
		   System.out.println("You are taking "+course+" ");
		   System.out.println("Which would you like to input first? "
		   		+ "Participation(p),Assignments(a),Midterms(m),or Final(f)?");
		   
		   int count=1;
		  while(x) {
			  if(count>1) {
			   System.out.println("Which would you like to input next? "
				   		+ "Participation(p),Assignments(a),Midterms(m),or Final(f)?");
			   }
			   count++;
		   	switch(sc.next()) {
			   
		   	case "Participation":case "p":
		   			if(sum>=100) {
		   				grader();
				   		x=false;
				   		break;
		   			}
			   		part=15.0;
			   		System.out.println("What percent is Participation worth?");
			   		
			   		pp=sc.nextDouble();
			   		sum=sum+pp;
			   		System.out.println("How many days have you missed class?");
			   		
			   		int d=sc.nextInt();
			   		part=part-d;
			   		part=part/15.0;
			   		part=part*100;
			   		//I am dividing by 75 because there are approximately 75 day of school
			   		System.out.println("Your Participation grade is "+part+"%");
			   		part=(pp/100)*part;
			   		System.out.println("Do you have anything else you would like to input, y/n?");
			   		if(sc.next().contains("y")) {
			   			break;
			   		}else {
			   		
			   		grader();
			   		x=false;
			   		break;
			   		}
		   		
		   	case "Assignments":case"a":
	   			if(sum>=100) {
	   				grader();
			   		x=false;
			   		break;
	   			}
			   		System.out.println("What percent is Assignments worth?");
			   		pa=sc.nextDouble();
			   		sum=sum+pa;
			   		System.out.println("How many assignments do you have?");
			   		total=sc.nextInt();
			   		double[] s=new double[total];
			   		System.out.println("What grade did you get in each assignment?");
			   		for(int i=0; i<total;i++) {
			   			s[i]=sc.nextDouble();
			   			assign+=s[i];
			   		}
			   		assign=assign/total;
			   		System.out.println("Your Assignment grade is "+assign+"%");
			   		assign=(pa/100)*assign;
			   		System.out.println("Do you have anything else you would like to input, y/n?");
			   		if(sc.next().contains("y")) {
			   			break;
			   		}else {
			   		grader();
			   		x=false;
			   		break;
			   		}
		   	case "Midterms":case "m":
	   			if(sum>=100) {
	   				grader();
			   		x=false;
			   		break;
	   			}
			   		System.out.println("What percent is Midterms worth?");
			   		pm=sc.nextDouble();
			   		sum+=pm;
			   		System.out.println("How many Midterms do you have?");
			   		int value=sc.nextInt();
			   		double[] m=new double[value];
			   		System.out.println("What grade did you get on each Midterm?");
			   		for(int i=0; i<value;i++) {
			   			m[i]=sc.nextDouble();
			   			midsum+=m[i];
			   		}
			   		midsum=midsum/value;
			   		System.out.println("Your Midterm average is "+midsum+"%");
			   		midsum=(pm/100)*midsum;
			   		System.out.println("Do you have anything else you would like to input, y/n?");
			   		if(sc.next().contains("y")) {
			   			break;
			   		}else {
			   		grader();
			   		x=false;
			   		break;
			   		}
		   	case "Final":case"f":
	   			if(sum>=100) {
	   				grader();
			   		x=false;
			   		break;
	   			}
			   		System.out.println("What percent is your Final worth?");
			   		pf=sc.nextDouble();
			   		sum+=pf;
			   		System.out.println("What grade did you get on the Final?");
			   		f=sc.nextInt();
			   		System.out.println("Your Final grade is "+f+"%");
			   		f=(pf/100)*f;
			   		System.out.println("Do you have anything else you would like to input, y/n?");
			   		if(sc.next().contains("y")) {
			   			break;
			   		}else {
			   		grader();
			   		x=false;
			   		break;
			   		}
		   	default:
		   		    System.out.println("This is an invalid argument");
		   	}
			  }
		   
		   		 }  
	public static void grader() {
		DecimalFormat df2 = new DecimalFormat(".##");
		double grade=f+midsum+assign+part;
		   grade=grade/sum;
		   grade=grade*100;
		   System.out.println("Your current grade percentage in "+course+" is "+df2.format(grade)+"%");
		   sc.close();
	}
}
